#!/bin/bash

\echo "Process: Cache/Get.sh"

# Contextless

Directory=$(\cd -- "$(\dirname -- "${BASH_SOURCE[0]}")" &>/dev/null && pwd)

Organization=("CodeEditorLand")

Repository=()

Omit=(
	"CodeEditorLand/.github"
	"CodeEditorLand/Babel"
	"CodeEditorLand/Biome"
	"CodeEditorLand/Cargo"
	"CodeEditorLand/CargoDocument"
	"CodeEditorLand/CargoLand"
	"CodeEditorLand/CargoMaintain"
	"CodeEditorLand/CargoRuntime"
	"CodeEditorLand/CodeEditorLand"
	"CodeEditorLand/Commonality"
	"CodeEditorLand/debugger-libs"
	"CodeEditorLand/DemoRepository"
	"CodeEditorLand/Document"
	"CodeEditorLand/Foundation"
	"CodeEditorLand/FoundationLand"
	"CodeEditorLand/FoundationLandCargo"
	"CodeEditorLand/FoundationLandCargoDocument"
	"CodeEditorLand/FoundationLandCargoMaintain"
	"CodeEditorLand/FoundationLandCargoRuntime"
	"CodeEditorLand/FoundationLandComponent"
	"CodeEditorLand/FoundationLandNPM"
	"CodeEditorLand/FoundationLandNPMCommon"
	"CodeEditorLand/FoundationLandNPMIngress"
	"CodeEditorLand/FoundationLandService"
	"CodeEditorLand/FoundationTauri"
	"CodeEditorLand/FoundationTauriCargo"
	"CodeEditorLand/FoundationTauriComponent"
	"CodeEditorLand/FoundationTauriNPM"
	"CodeEditorLand/FoundationTauriService"
	"CodeEditorLand/JavaScript"
	"CodeEditorLand/Land"
	"CodeEditorLand/LLRT"
	"CodeEditorLand/Maintain"
	"CodeEditorLand/node-gyp"
	"CodeEditorLand/NPM"
	"CodeEditorLand/NPMCommon"
	"CodeEditorLand/NPMIngress"
	"CodeEditorLand/NPMLand"
	"CodeEditorLand/NRefactory"
	"CodeEditorLand/Oniguruma"
	"CodeEditorLand/Property"
	"CodeEditorLand/PropertyLand"
	"CodeEditorLand/Runtime"
	"CodeEditorLand/Skia"
	"CodeEditorLand/Stream"
	"CodeEditorLand/TypeScript"
	"CodeEditorLand/Website"
	"CodeEditorLand/Wil"

	"CodeEditorLand/ApplicationinsightsLand"
	"CodeEditorLand/AzureBoardsLand"
	"CodeEditorLand/AzureDatalakeToolsForLand"
	"CodeEditorLand/AzureIotDeveloperKit"
	"CodeEditorLand/AzurePipelinesLand"
	"CodeEditorLand/AzureReposLand"
	"CodeEditorLand/AzureStreamAnalyticsInLand"
	"CodeEditorLand/Codetour"
	"CodeEditorLand/ComposeLanguageService"
	"CodeEditorLand/DeoptexplorerLand"
	"CodeEditorLand/DevSkim"
	"CodeEditorLand/DevSkimLandPlugin"
	"CodeEditorLand/DstoolkitDevcontainers"
	"CodeEditorLand/Editor"
	"CodeEditorLand/Gnls"
	"CodeEditorLand/LandAnacondaExtensionPack"
	"CodeEditorLand/LandAnycode"
	"CodeEditorLand/LandApimanagement"
	"CodeEditorLand/LandAppcenter"
	"CodeEditorLand/LandArduino"
	"CodeEditorLand/LandAsa"
	"CodeEditorLand/LandAtomKeybindings"
	"CodeEditorLand/LandAutopep8"
	"CodeEditorLand/LandAzureAccount"
	"CodeEditorLand/LandAzureappservice"
	"CodeEditorLand/LandAzurearmtools"
	"CodeEditorLand/LandAzureAutomation"
	"CodeEditorLand/LandAzureBlockchainEthereum"
	"CodeEditorLand/LandAzurecache"
	"CodeEditorLand/LandAzurecli"
	"CodeEditorLand/LandAzurecognitivesearch"
	"CodeEditorLand/LandAzurecontainerapps"
	"CodeEditorLand/LandAzureeventgrid"
	"CodeEditorLand/LandAzurefunctions"
	"CodeEditorLand/LandAzureFunctionsRemoteWebExtension"
	"CodeEditorLand/LandAzurehealthcareapisTools"
	"CodeEditorLand/LandAzureIotEdge"
	"CodeEditorLand/LandAzureIotToolkit"
	"CodeEditorLand/LandAzureIotTools"
	"CodeEditorLand/LandAzurelogicapps"
	"CodeEditorLand/LandAzurePack"
	"CodeEditorLand/LandAzureresourcegroups"
	"CodeEditorLand/LandAzureserverlesspack"
	"CodeEditorLand/LandAzurespringcloud"
	"CodeEditorLand/LandAzurestaticwebapps"
	"CodeEditorLand/LandAzurestorage"
	"CodeEditorLand/LandAzuretools"
	"CodeEditorLand/LandAzurevirtualmachines"
	"CodeEditorLand/LandBackspace"
	"CodeEditorLand/LandBisect"
	"CodeEditorLand/LandBlackFormatter"
	"CodeEditorLand/LandBracketsKeybindings"
	"CodeEditorLand/LandBracketsPack"
	"CodeEditorLand/LandCdp"
	"CodeEditorLand/LandCdpProxy"
	"CodeEditorLand/LandChromeDebug"
	"CodeEditorLand/LandChromeDebugCore"
	"CodeEditorLand/LandCmakeTools"
	"CodeEditorLand/LandCmakeToolsApi"
	"CodeEditorLand/LandCodicons"
	"CodeEditorLand/LandComment"
	"CodeEditorLand/LandCopilotRelease"
	"CodeEditorLand/LandCordova"
	"CodeEditorLand/LandCosmosdb"
	"CodeEditorLand/LandCosmosdbgraph"
	"CodeEditorLand/LandCourseSample"
	"CodeEditorLand/LandCpptools"
	"CodeEditorLand/LandCpptoolsApi"
	"CodeEditorLand/LandCss"
	"CodeEditorLand/LandCssLanguageservice"
	"CodeEditorLand/LandCustomData"
	"CodeEditorLand/LandDapr"
	"CodeEditorLand/LandDataWrangler"
	"CodeEditorLand/LandDebugadapterNode"
	"CodeEditorLand/LandDeployAzure"
	"CodeEditorLand/LandDevChromeLauncher"
	"CodeEditorLand/LandDevContainers"
	"CodeEditorLand/LandDiagnosticTools"
	"CodeEditorLand/LandDiscussions"
	"CodeEditorLand/LandDocker"
	"CodeEditorLand/LandDockerExtensibility"
	"CodeEditorLand/LandDocs"
	"CodeEditorLand/LandDocsArchive"
	"CodeEditorLand/LandDocsAuthoring"
	"CodeEditorLand/LandDotnettools"
	"CodeEditorLand/LandDtdl"
	"CodeEditorLand/LandDts"
	"CodeEditorLand/LandDwarfDebugging"
	"CodeEditorLand/LandDwarfDebuggingExt"
	"CodeEditorLand/LandEdgeDebug"
	"CodeEditorLand/LandEdgeDebug2"
	"CodeEditorLand/LandEdgeDevtools"
	"CodeEditorLand/LandEdgeDevtoolsNetwork"
	"CodeEditorLand/LandEditorconfig"
	"CodeEditorLand/LandEmbeddedTools"
	"CodeEditorLand/LandEmmetHelper"
	"CodeEditorLand/LandEmmetLegacy"
	"CodeEditorLand/LandEslint"
	"CodeEditorLand/LandExplorerCommand"
	"CodeEditorLand/LandExtensionLand"
	"CodeEditorLand/LandExtensionRecommender"
	"CodeEditorLand/LandExtensionSamples"
	"CodeEditorLand/LandExtensionTelemetry"
	"CodeEditorLand/LandExtensionTestRunner"
	"CodeEditorLand/LandFigmaIcons"
	"CodeEditorLand/LandFigmaToolkit"
	"CodeEditorLand/LandFileDownloader"
	"CodeEditorLand/LandFileDownloaderApi"
	"CodeEditorLand/LandFilewatcherWindows"
	"CodeEditorLand/LandFlake8"
	"CodeEditorLand/LandGather"
	"CodeEditorLand/LandGeneratorCode"
	"CodeEditorLand/LandGeneratorCodeJavascript"
	"CodeEditorLand/LandGithubIssueNotebooks"
	"CodeEditorLand/LandGithubIssuesPrs"
	"CodeEditorLand/LandGithubTriageActions"
	"CodeEditorLand/LandGithubTriageExtension"
	"CodeEditorLand/LandGo"
	"CodeEditorLand/LandGradle"
	"CodeEditorLand/LandGrammarUpdater"
	"CodeEditorLand/LandGulpElectron"
	"CodeEditorLand/LandHexeditor"
	"CodeEditorLand/LandHtmlhint"
	"CodeEditorLand/LandHtmlLanguageservice"
	"CodeEditorLand/LandHtmltagwrap"
	"CodeEditorLand/LandHydrate"
	"CodeEditorLand/LandIcons"
	"CodeEditorLand/LandIconvLiteUmd"
	"CodeEditorLand/LandIosWebDebug"
	"CodeEditorLand/LandIotWorkbench"
	"CodeEditorLand/LandIsort"
	"CodeEditorLand/LandJavaDebug"
	"CodeEditorLand/LandJavaDependency"
	"CodeEditorLand/LandJavaInstaller"
	"CodeEditorLand/LandJavaPack"
	"CodeEditorLand/LandJavaTest"
	"CodeEditorLand/LandJsAtomGrammar"
	"CodeEditorLand/LandJscs"
	"CodeEditorLand/LandJsDebug"
	"CodeEditorLand/LandJsDebugBrowsers"
	"CodeEditorLand/LandJsDebugCompanion"
	"CodeEditorLand/LandJshint"
	"CodeEditorLand/LandJSON.tmLanguage"
	"CodeEditorLand/LandJsonLanguageservice"
	"CodeEditorLand/LandJsProfileVisualizer"
	"CodeEditorLand/LandJupyter"
	"CodeEditorLand/LandJupyterCellTags"
	"CodeEditorLand/LandJupyterHub"
	"CodeEditorLand/LandJupyterIpywidgets"
	"CodeEditorLand/LandJupyterKeymap"
	"CodeEditorLand/LandJupyterLspMiddleware"
	"CodeEditorLand/LandJupyterPowertoys"
	"CodeEditorLand/LandJupyterSlideshow"
	"CodeEditorLand/LandJvmTools"
	"CodeEditorLand/LandL10n"
	"CodeEditorLand/LandLanguagedetection"
	"CodeEditorLand/LandLanguageserverNode"
	"CodeEditorLand/LandLanguageserverProtocolFoldingprovider"
	"CodeEditorLand/LandLaTeX"
	"CodeEditorLand/LandLinuxBuildAgent"
	"CodeEditorLand/LandLivepreview"
	"CodeEditorLand/LandLoader"
	"CodeEditorLand/LandLoc"
	"CodeEditorLand/LandLocDeprecated"
	"CodeEditorLand/LandLombok"
	"CodeEditorLand/LandLsifExtension"
	"CodeEditorLand/LandMakecode"
	"CodeEditorLand/LandMakefileTools"
	"CodeEditorLand/LandMarkdownItKatex"
	"CodeEditorLand/LandMarkdownLanguageservice"
	"CodeEditorLand/LandMarkdownNotebook"
	"CodeEditorLand/LandMarkdownTmGrammar"
	"CodeEditorLand/LandMaven"
	"CodeEditorLand/LandMDTools"
	"CodeEditorLand/LandMezzurite"
	"CodeEditorLand/LandMinimist"
	"CodeEditorLand/LandMockDebug"
	"CodeEditorLand/LandMongodb"
	"CodeEditorLand/LandMonoDebug"
	"CodeEditorLand/LandMssql"
	"CodeEditorLand/LandMypy"
	"CodeEditorLand/LandNls"
	"CodeEditorLand/LandNlsDev"
	"CodeEditorLand/LandNodeAzurePack"
	"CodeEditorLand/LandNodebook"
	"CodeEditorLand/LandNodeDebug"
	"CodeEditorLand/LandNodeDebug2"
	"CodeEditorLand/LandNodeSqlite3"
	"CodeEditorLand/LandNotebookErrorOverlay"
	"CodeEditorLand/LandNotebookRenderers"
	"CodeEditorLand/LandNotebookRendererStarter"
	"CodeEditorLand/LandNotebookTestdata"
	"CodeEditorLand/LandNotepadplusplusKeybindings"
	"CodeEditorLand/LandNpmScripts"
	"CodeEditorLand/LandOcticonsFont"
	"CodeEditorLand/LandOnedriveBrowser"
	"CodeEditorLand/LandOniguruma"
	"CodeEditorLand/LandOpensslPrebuilt"
	"CodeEditorLand/LandPerf"
	"CodeEditorLand/LandPerfBot"
	"CodeEditorLand/LandPlatformSpecificSample"
	"CodeEditorLand/LandPolicyWatcher"
	"CodeEditorLand/LandPostgresql"
	"CodeEditorLand/LandPowerquery"
	"CodeEditorLand/LandPowerquerySdk"
	"CodeEditorLand/LandProxyAgent"
	"CodeEditorLand/LandPullRequestGithub"
	"CodeEditorLand/LandPwaAnalyzer"
	"CodeEditorLand/LandPylint"
	"CodeEditorLand/LandPython"
	"CodeEditorLand/LandPythonDebugger"
	"CodeEditorLand/LandPythonDeviceSimulator"
	"CodeEditorLand/LandPythonDsExtensionPack"
	"CodeEditorLand/LandPythonInstaller"
	"CodeEditorLand/LandPythonToolsExtensionTemplate"
	"CodeEditorLand/LandPythonWebWasm"
	"CodeEditorLand/LandReactNative"
	"CodeEditorLand/LandReactSample"
	"CodeEditorLand/LandRecipes"
	"CodeEditorLand/LandReferencesView"
	"CodeEditorLand/LandRemoteRelease"
	"CodeEditorLand/LandRemoteRepositoriesGithub"
	"CodeEditorLand/LandRemoteTryCpp"
	"CodeEditorLand/LandRemoteTryDotnet"
	"CodeEditorLand/LandRemoteTryGo"
	"CodeEditorLand/LandRemoteTryJava"
	"CodeEditorLand/LandRemoteTryNode"
	"CodeEditorLand/LandRemoteTryPhp"
	"CodeEditorLand/LandRemoteTryPython"
	"CodeEditorLand/LandRemoteTryRust"
	"CodeEditorLand/LandRemoteTrySqlserver"
	"CodeEditorLand/LandRemoteWslRecommender"
	"CodeEditorLand/LandResharperKeybindings"
	"CodeEditorLand/LandRipgrep"
	"CodeEditorLand/LandRussh"
	"CodeEditorLand/LandSamples"
	"CodeEditorLand/LandSCMBuilders"
	"CodeEditorLand/LandSecretServiceRs"
	"CodeEditorLand/LandSelfhostTestProvider"
	"CodeEditorLand/LandSerialMonitor"
	"CodeEditorLand/LandServiceFabricReliableServices"
	"CodeEditorLand/LandServiceStatus"
	"CodeEditorLand/LandSimpleJupyterNotebook"
	"CodeEditorLand/LandSmoketestCheck"
	"CodeEditorLand/LandSmoketestExpress"
	"CodeEditorLand/LandspacesQuickstart"
	"CodeEditorLand/LandSpellCheck"
	"CodeEditorLand/LandSpringBootDashboard"
	"CodeEditorLand/LandSpringInitializr"
	"CodeEditorLand/LandStac"
	"CodeEditorLand/LandSublimeKeybindings"
	"CodeEditorLand/LandTasAngular"
	"CodeEditorLand/LandTasExpress"
	"CodeEditorLand/LandTasVue"
	"CodeEditorLand/LandTeam"
	"CodeEditorLand/LandTelemetryExtractor"
	"CodeEditorLand/LandTensorboard"
	"CodeEditorLand/LandTest"
	"CodeEditorLand/LandTestAdapterConverter"
	"CodeEditorLand/LandTestCli"
	"CodeEditorLand/Landtestcover"
	"CodeEditorLand/LandTestWeb"
	"CodeEditorLand/LandTextbuffer"
	"CodeEditorLand/LandTextmate"
	"CodeEditorLand/LandThemeColorConsumer"
	"CodeEditorLand/LandThemes"
	"CodeEditorLand/LandThemeTester"
	"CodeEditorLand/LandTipsAndTricks"
	"CodeEditorLand/LandTmdl"
	"CodeEditorLand/LandToolsForAi"
	"CodeEditorLand/LandTslint"
	"CodeEditorLand/LandTsPackageManager"
	"CodeEditorLand/LandTsTslint"
	"CodeEditorLand/LandTye"
	"CodeEditorLand/LandTypescriptNext"
	"CodeEditorLand/LandTypescriptTslintPlugin"
	"CodeEditorLand/LandUri"
	"CodeEditorLand/LandV8HeapTools"
	"CodeEditorLand/LandVsce"
	"CodeEditorLand/LandVsKeybindings"
	"CodeEditorLand/LandWasm"
	"CodeEditorLand/LandWebPlayground"
	"CodeEditorLand/LandWebviewUiToolkit"
	"CodeEditorLand/LandWebviewUiToolkitSamples"
	"CodeEditorLand/LandWiki"
	"CodeEditorLand/LandWin32AppContainerTokens"
	"CodeEditorLand/LandWindowsCaCerts"
	"CodeEditorLand/LandWindowsProcessTree"
	"CodeEditorLand/LandWindowsRegistry"
	"CodeEditorLand/LandWinsta11er"
	"CodeEditorLand/LandWordcount"
	"CodeEditorLand/LandZeromq"
	"CodeEditorLand/Linkcheckermd"
	"CodeEditorLand/MonacoEditor"
	"CodeEditorLand/NodeRequestLight"
	"CodeEditorLand/PlaywrightLand"
	"CodeEditorLand/PowerplatformLand"
	"CodeEditorLand/PowerplatformLandLab"
	"CodeEditorLand/PSDocsLand"
	"CodeEditorLand/PSRuleLand"
	"CodeEditorLand/Pvscbot"
	"CodeEditorLand/PythonSampleLandDjangoTutorial"
	"CodeEditorLand/PythonSampleLandFastapiTutorial"
	"CodeEditorLand/PythonSampleLandFlaskTutorial"
	"CodeEditorLand/Quantum"
	"CodeEditorLand/SarifLandExtension"
	"CodeEditorLand/ScopestudioLand"
	"CodeEditorLand/SynapseLand"
	"CodeEditorLand/ThemeConverterForVs"
	"CodeEditorLand/TypeScriptLandExtensions"
)

for Organization in "${Organization[@]}"; do
	for ((Page = 1; Page <= 20; Page++)); do
		\mapfile -t Temporary < <(\printf "%s" "$(
			\gh api \
				-H "Accept: application/vnd.github+json" \
				-H "X-GitHub-Api-Version: 2022-11-28" \
				orgs/"${Organization}"/repos?per_page=100\&page=${Page} | \jq -r '.[].full_name'
		)" | \tr -d '\r')

		for Temporary in "${Temporary[@]}"; do
			Flag=false

			for RepositoryOmit in "${Omit[@]}"; do
				if [ "$Temporary" = "$RepositoryOmit" ]; then
					Flag=true

					break
				fi
			done

			if [ "$Flag" = false ]; then
				Repository+=("$Temporary")
			fi

			# TODO: Add these to the cache
			# Sync/Repository

			# ```sh
			# Main=$(\gh repo view --json parent | \jq -c -r '.parent.owner.login, .parent.name' | \tr -s '\r\n' '/')
			# Main=$(\echo "$Main" | \sed 's/\/$//')
			# Main=$(\gh repo view "$Main" --json defaultBranchRef | \jq -r -c '.defaultBranchRef.name')
			# ```

			# # Configure/Repository

			# ```sh
			# Upstream=$(\gh repo view --json parent | \jq -c -r '.parent.owner.login, .parent.name' | \tr -s '\r\n' '/')

			# if [[ "$Upstream" != "null/null" ]]; then
			# 	Upstream="ssh://git@github.com/${Upstream}"
			# 	Upstream=$(\echo "$Upstream" | \sed 's/\/$/\.git/')

			# 	\echo "Upstream: "
			# 	\echo "$Upstream"

			# 	\git remote remove upstream
			# 	\git remote add upstream "$Upstream"
			# 	\git remote set-url upstream "$Upstream"
			# fi
			# ```
		done
	done

	\mapfile -t Repository < <(\printf "%s\n" "${Repository[@]}" | \sort)

	\printf '%s\n' "${Repository[@]}" | jq -R . | jq -s . >"$Directory"/../Service/Tauri.json
done
